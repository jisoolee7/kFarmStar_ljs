<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kfarmstar.admin.mapper.GoodsMapper">

	<resultMap type="GoodsCate" id="goodsCateResultMap">
		<result column="goods_large_cate" 	property="goodsLargeCode"/>
		<result column="goods_large_name" 	property="goodsLargeName"/>
		<result column="goods_small_cate" 	property="goodsSmallCode"/>
		<result column="goods_small_name" 	property="goodsSmallName"/>
		<result column="member_id" 			property="entryId"/>
		<result column="update_manager_id"	property="updateId"/>
		<result column="entry_time" 		property="entryTime"/>
		<result column="last_update_time" 	property="updateTime"/>
	</resultMap>
	
	
	<select id="getGoodsCateList" parameterType="String" resultMap="goodsCateResultMap">
		/* 상품 카테고리 목록 조회 */
		SELECT 
			l.goods_large_cate
			, s.goods_small_cate
			, s.update_manager_id
			, l.goods_large_name
			, s.goods_small_name
			, s.last_update_time
		FROM 
			goods_large AS l
			INNER JOIN 
			goods_small AS s
			ON 
			l.goods_large_cate = s.goods_large_cate;
	</select>

	<insert id="addLargeCate" parameterType="GoodsCate">
		/* 상품 대분류 카테고리 등록 */
		INSERT INTO goods_large
			(goods_large_cate
			, member_id
			, goods_large_name
			, entry_time
			
			)VALUES (
				#{goodsLargeCode}
				, #{entryId}
				, #{goodsLargeName}
				, CURDATE());
	
	
	</insert>

</mapper>